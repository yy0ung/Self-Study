# OS 운영체제  교착상태 (2)

<br>

### 1. **교착상태 회피**
#### *교착상태 예방은 장치의 이용률이 저하되고 시스템 총처리율 (throughput) 이 감소함.*
* **안전상태**
  * 시스템이 안전순서를 찾을 수 있다면 시스템은 교착상태로부터 안전하다고 표현함.
  * 시스템을 항상 safe state 로 유지하는 방법.
    * safe sequence 가 존재. deadlock 상태가 되지 않을 수 있음을 보장.
    * unsafe state : deadlock 상태가 될 가능성 존재. 항상 되는건 아님.

<br>

* **Banker's Algorithm**
  * 현재 상태에서 안전순서가 하나 이상 존재하면 안전 상태
  * 요청이 들어옴 → 시뮬레이션을 해봄 → safe sequence가 있으면 실행, 없으면 reject
  * 최소한 하나의 프로세스에게 할당해줄 수 있는 양의 자원을 항상 가지고 있어야 함.
  * 미리 자원의 최대 요구량을 알아야 하고 할당 가능한 자원의 수가 일정해야 한다는 현실적 문제.

<br><br>

### 2. **교착상태 탐지**
* 데드락 발생 여부를 탐지하고 회복 기법으로 연결하는 방법. 
* 지속적으로 발생 여부를 탐지해야 하기 때문에 overhead 가 발생.

<br><br>

### 3. **교착상태 회복**
* **프로세스와 스레드 종료**
  * 프로세스 또는 스레드를 중지시켜 교착 상태를 제거함. 
  * 프로세스를 모두 중지시키거나 교착상태가 제거될 때까지 한 프로세스씩 중지 시키는 방법이 있음.

<br>

* **자원 선점**
  * 교착상태가 깨질 때까지 프로세스로부터 자우너을 계속 선점하여 다른 프로세스에게 주어야 함.
  * 희생자 선택 : 어떤 자원과 프로세스가 선점될 것인지.
  * rollback : 안전한 상태로 후퇴시킴. 즉 프로세스를 중지하고 재시작 하는 것.
  * starvation

